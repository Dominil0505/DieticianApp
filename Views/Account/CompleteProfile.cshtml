@model DieticianApp.Models.ViewModel.Profile.CompleteProfileViewModel

@if (User.IsInRole("Patient") && Model.CompletedUser.Is_profile_completed == false)
{

    <div class="container py-5">
        <div class="row d-flex justify-content-center">
            <div class="col-xl-10">
                <div class="card" style="box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;">
                    <div class="card-body">
                        <h3 class="d-flex justify-content-center">Setup Your Account</h3>
                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                        <form asp-controller="Account" asp-action="CompleteProfile" method="post">
                            <div class="row">
                                <div class="col-lg-6 mb-3">
                                    <label class="form-label">Date of Birth</label>
                                    <input class="form-control" type="date" asp-for="DoB" />
                                    <span asp-validation-for="DoB" class="text-danger"></span>
                                </div>
                                <div class="col-lg-6 mb-3">
                                    <label class="form-label">Height</label>
                                    <input class="form-control" type="number" asp-for="Height" />
                                    <span asp-validation-for="Height" class="text-danger"></span>
                                </div>
                                <div class="col-lg-6 mb-3">
                                    <label class="form-label">Weight</label>
                                    <input class="form-control" type="number" asp-for="Weight" />
                                    <span asp-validation-for="Weight" class="text-danger"></span>
                                </div>
                                <div class="col-lg-6 mb-3">
                                    <label class="form-label">Gender</label>
                                    <span asp-validation-for="Gender" class="text-danger"></span>
                                    <select class="form-select" asp-for="Gender">
                                        <option value="">Select Gender</option>
                                        <option value="Male">Male</option>
                                        <option value="Female">Female</option>
                                    </select>
                                </div>
                                <div class="col-lg-6 mb-3">
                                    <label class="form-label">Disease</label>
                                    <select id="multiSelect" class="selectpicker form-control mb-2" multiple data-live-search="true" title="Choose disease..." asp-for="SelectedDiseases">
                                        @foreach (var disease in Model.Diseases)
                                        {
                                            <option value="@disease.Disease_Id">
                                                @disease.Disease_Name
                                            </option>
                                        }

                                    </select>
                                </div>
                                <div class="col-lg-6 mb-3">
                                    <label class="form-label">Medications</label>
                                    <select id="multiSelect" class="selectpicker form-control mb-2" multiple data-live-search="true" title="Choose medicine..." asp-for="SelectedMedicines">
                                        @foreach (var medicine in Model.Medicines)
                                        {
                                            <option value="@medicine.Medicine_Id">
                                                @medicine.Medicine_Name
                                            </option>
                                        }
                                    </select>
                                </div>
                                <div class="col mb-3">
                                    <label class="form-label">Allergies</label>
                                    <select id="multiSelect" class="selectpicker form-control mb-2" multiple data-live-search="true" title="Choose allergy..." asp-for="SelectedAllergies">
                                        @foreach (var allergy in Model.Allergies)
                                        {
                                            <option value="@allergy.Allergy_Id">
                                                @allergy.Allergy_Name
                                            </option>
                                        }
                                    </select>
                                </div>
                            </div>
                            <div class="d-flex justify-content-center">
                                <button type="submit" class="btn btn-primary px-5">Save</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

}
else if (User.IsInRole("Patient") && Model.CompletedUser.Is_profile_completed == true)
{
    @await Html.PartialAsync("SecurePage")
}
@if (User.IsInRole("Dietician"))
{
    <p>sadadadsadasd</p>
}
@if (User.IsInRole("Admin"))
{
    @await Html.PartialAsync("SecurePage")
}
